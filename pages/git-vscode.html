<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SDB</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="icon" href="../favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="../style.css">
</head>

<body id="body">
    <nav class="navbar fixed-top navbar-expand-lg bg-dark" data-bs-theme="dark">
        <div class="container-fluid">
            <a class="navbar-brand me-5" href="../index.html">Software Development Blog</a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
                aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">

                    <li class="nav-item">
                        <a class="nav-link me-4" aria-current="page" href="../index.html">Java</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link me-4" aria-current="page" href="./spring.html">Spring</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link me-4 active" aria-current="page" href="./git.html">Git</a>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                            aria-expanded="false">CS</a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="../cs/insertion-sort.html">Insertion Sort</a></li>
                            <li><a class="dropdown-item" href="../cs/selection-sort.html">Selection Sort</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div id="container" class="container container-params">
        <h2 class="header-params">How to Work with Git Branches: Part 1 - VS Code</h2>

        <!-- Outline -->
        <p id="outline">
            <a href="#clone-repository-shift">Clone Repository</a><br>
            <a href="#create-issue-and-branch-shift">Create Issue and Branch</a><br>
            <a href="#write-code-shift">Write Code</a><br>
            <a href="#imitate-changes-shift">Imitate Changes Made by Another Developer</a><br>
            <a href="#commit-code-shift">Commit Your Code</a><br>
            <a href="#create-pull-request-1-shift">Create Pull Request and Note Merge Conflict</a><br>
            <a href="#merge-shift">Merge Updates from Main Branch to Your Feature Branch. Resolve Merge Conflict</a><br>
            <a href="#create-pull-request-2-shift">Create New Pull Request</a><br>
            <a href="#finish-work-shift">Finish Work in VS Code</a>
        </p>

        <div class="text-params">
            <p>
                In this post we will see a typical way to organize Git work on a project with other developers. We will
                consider VS
                Code and Intellij IDEA.
                <br><br>
                Create an empty GitHub repository, let’s say “git-demo”. Next, create a demo file “file1.txt” with an
                initial content:
                <br><br>
                This is an<br>
                initial content.
            </p>
            <img src="./images-vscode/1.png" class="img-fluid img-thumbnail" alt="...">
            <br><br>
            <img src="./images-vscode/2.png" class="img-fluid img-thumbnail" alt="...">
            <span id="clone-repository-shift"></span>
            <br><br><br>


            <!-- Clone Repository -->
            <h4 id="clone-repository">Clone Repository</h4>
            <p>
                Clone your repository to your local machine and open the repository in VS Code.
                <br><br>
                In the bottom left corner ensure that you are on the “main” branch. Click on a circle with arrows to get
                all updates from the “origin/main” branch to your local “main” branch (IDE performs the “git pull”
                command to get all updates behind the scene).
            </p>
            <img src="./images-vscode/3.png" class="img-fluid img-thumbnail" alt="...">
            <br><br>
            <a href="#container">Outline</a>
            <span id="create-issue-and-branch-shift"></span>
            <br><br><br>


            <!-- Create Issue and Branch -->
            <h4 id="create-issue-and-branch">Create Issue and Branch</h4>
            <p>
                Now, imagine that you have an issue to work on. Go to the “Issues” tab and create your issue, let's say
                “My Task”.
            </p>
            <img src="./images-vscode/4.png" class="img-fluid img-thumbnail" alt="...">
            <br><br>

            <p>
                Next, create a new local branch “feature/1-My-Task”. You can use another naming convention to name your
                branches. I prefer this one because it indicates that I work on a feature (not on a fix, build, or
                docs), number of the issue is 1, and a name of the task.

                Press on the “main” branch in the bottom left corner and select “Create new branch”.
            </p>
            <img src="./images-vscode/5.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                Type your branch name and press Enter.
            </p>
            <img src="./images-vscode/6.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                In the bottom left corner you will see that you are on your new branch.
            </p>
            <img src="./images-vscode/7.png" class="img-fluid img-thumbnail" alt="...">
            <br><br>
            <a href="#container">Outline</a>
            <span id="write-code-shift"></span>
            <br><br><br>


            <!-- Write Code -->
            <h4 id="write-code">Write Code</h4>
            <p>
                Write your code.
            </p>
            <img src="./images-vscode/8.png" class="img-fluid img-thumbnail" alt="...">
            <br><br>
            <a href="#container">Outline</a>
            <span id="imitate-changes-shift"></span>
            <br><br><br>


            <!-- Imitate Changes Made by Another Developer -->
            <h4 id="imitate-changes">Imitate Changes Made by Another Developer</h4>
            <p>
                Now, imagine that another developer had been working on her/his branch and had pushed those changes to
                the “main” branch. Let’s imitate this situation.
                <br><br>
                Go to the GitHub repository and edit “file1.txt” directly in the “main” branch.
            </p>
            <img src="./images-vscode/9.png" class="img-fluid img-thumbnail" alt="...">
            <br><br>
            <img src="./images-vscode/10.png" class="img-fluid img-thumbnail" alt="...">
            <br><br>
            <a href="#container">Outline</a>
            <span id="commit-code-shift"></span>
            <br><br><br>


            <!-- Commit Your Code -->
            <h4 id="commit-code">Commit Your Code</h4>
            <p>
                Note, that your code was written on lines 4 and 5. And now these lines are occupied by another code
                (what is known as a “Git conflict”).

                Return back to VS Code. Assume you don’t know about those changes. Simply commit your new branch with
                your changes.
            </p>
            <img src="./images-vscode/11.png" class="img-fluid img-thumbnail" alt="...">
            <br><br>

            <p>
                I prefer to add a commit description same as an issue name with issue number.
            </p>
            <img src="./images-vscode/12.png" class="img-fluid img-thumbnail" alt="...">
            <br><br>
            <img src="./images-vscode/13.png" class="img-fluid img-thumbnail" alt="...">
            <br><br>
            <a href="#container">Outline</a>
            <span id="create-pull-request-1-shift"></span>
            <br><br><br>


            <!-- Create Pull Request and Note Merge Conflict -->
            <h4 id="create-pull-request-1">Create Pull Request and Note Merge Conflict</h4>
            <p>
                Go to the GitHub repository, you will see a popup “Compare & pull request”.
            </p>
            <img src="./images-vscode/14.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                If there is no auto popup, then go to the “Pull requests” tab and select “New pull request”.
            </p>
            <img src="./images-vscode/15.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                Select your branch to merge into the “main” branch.
            </p>
            <img src="./images-vscode/16.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                As we can see, there is a message that GitHub “Can’t automatically merge” our “feature/1-My-Task” branch
                into the “main” branch.
            </p>
            <img src="./images-vscode/17.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                The reason behind this is that you have created your branch from a “main” branch state that is not
                relevant any more (now it is in the “past”, since another developer updated “main” branch).
                <br><br>
                So, we need firstly update our “feature/1-My-Task” branch, and after this push our commits. When another
                developer had been working on her/his task, perhaps she/he didn’t know about our work on our branch. And
                that’s why new code from the “main” branch may affect the same files and lines of code that we work on.
                Synchronization of these changes is known as “Git conflict resolving”.
            </p>
            <a href="#container">Outline</a>
            <span id="merge-shift"></span>
            <br><br><br>


            <!-- Merge Updates from Main Branch to Your Feature Branch. Resolve Merge Conflict -->
            <h4 id="merge">Merge Updates from Main Branch to Your Feature Branch. Resolve Merge Conflict</h4>
            <p>
                Return back to VS Code. Checkout to the “origin/main” branch (in the bottom left corner).
            </p>
            <img src="./images-vscode/18.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                As we can see, there is an initial state of the “main” branch.
            </p>
            <img src="./images-vscode/19.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                Click on the circle with arrows to get updates from the “origin/main” branch.
            </p>
            <img src="./images-vscode/20.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                Now, we have an updated state of the “main” branch including changes made by another developer.
            </p>
            <img src="./images-vscode/21.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                However, there is still no connection between those updated and our branch “feature/1-My-Task”. To fix
                this we need to merge the “origin/main” branch to “feature/1-My-Task”.
                <br><br>
                Checkout to “origin/feature/1-My-Task”.
            </p>
            <img src="./images-vscode/22.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                Then, go to Source Control tab (left side panel) > Three dots > Branch > Merge Branch. And select a
                branch to merge from. A branch to merge from is “origin/main” (it will be merged with its updates to the
                “feature/3-My-Task” branch).
            </p>
            <img src="./images-vscode/23.png" class="img-fluid img-thumbnail" alt="...">
            <br><br>
            <img src="./images-vscode/24.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                As we expected, there is a Git merge conflict.
            </p>
            <img src="./images-vscode/25.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                Click on the “file1.txt” in the explorer to open the Resolve conflict manager.
            </p>
            <img src="./images-vscode/26.png" class="img-fluid img-thumbnail" alt="...">
            <br><br>
            <p>
                We can see three columns: (1) Incoming from “main” branch, (2) initial state of “main” branch, and (3)
                our code.

                Below we see a Result column that will contain the final version of our code including updated code from
                the “main” branch.

            </p>

            <p>
                The point is that another developer and we worked on the same file and same lines of code, so the Git
                doesn't know which code has a priority to stay. We have to explicitly command what a final version of
                our code should look like.
                <br><br>
                The simplest option is to select Three dots > Accept All Changes from Left.
            </p>
            <img src="./images-vscode/27.png" class="img-fluid img-thumbnail" alt="...">
            <br><br>
            <img src="./images-vscode/28.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                Similarly, Three dots > Accept All Changes from Right.
            </p>
            <img src="./images-vscode/29.png" class="img-fluid img-thumbnail" alt="...">
            <br><br>
            <img src="./images-vscode/30.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                However, it might not be what we want. So, we can type what we need in the Result section directly.
            </p>
            <img src="./images-vscode/31.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                Click on a “Complete Merge” button. Git conflict is resolved. Now, we can commit our code (including
                changes merged from the “main”branch).
            </p>
            <img src="./images-vscode/32.png" class="img-fluid img-thumbnail" alt="...">
            <br><br>
            <img src="./images-vscode/33.png" class="img-fluid img-thumbnail" alt="...">
            <br><br>
            <a href="#container">Outline</a>
            <span id="create-pull-request-2-shift"></span>
            <br><br><br>


            <!-- Create New Pull Request -->
            <h4 id="create-pull-request-2">Create New Pull Request</h4>
            <p>
                Return back to a GitHub repository. Click “Compare & pull request”.
            </p>
            <img src="./images-vscode/34.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                Now, we can see that GitHub is able to merge the “feature/1-My-Task” branch into the “main” branch.
            </p>
            <img src="./images-vscode/35.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                Click “Create pull request”. Then “Merge pull request” or “Squash and merge” (if you don’t know what to
                choose, then choose “Merge pull request”).
            </p>
            <img src="./images-vscode/36.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                Now, “file1.txt” in the “main” branch looks exactly as we defined during merge conflict resolution.
            </p>
            <img src="./images-vscode/37.png" class="img-fluid img-thumbnail" alt="...">
            <br><br>
            <a href="#container">Outline</a>
            <sapn id="finish-work-shift"></sapn>
            <br><br><br>


            <!-- Finish Work in VS Code -->
            <h4 id="finish-work">Finish Work in VS Code</h4>
            <p>
                Return back to VS Code. Now you are on your “feature/1-My-Task” branch. Since your work is completed,
                checkout to the “origin/main” branch.
            </p>
            <img src="./images-vscode/38.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                As we can see, “file1.txt” has code before merging.
            </p>
            <img src="./images-vscode/39.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                Click on a circle with arrows to get updates from the
                “origin/main” branch, including your previously pushed code.
            </p>
            <img src="./images-vscode/40.png" class="img-fluid img-thumbnail" alt="...">
            <br><br><br>

            <p>
                Now, we have a current state of the “main” branch on our local machine.
            </p>
            <img src="./images-vscode/41.png" class="img-fluid img-thumbnail" alt="...">
            <br><br>
            <a href="#container">Outline</a>
            <br><br><br>

        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</body>

</html>